<!DOCTYPE html>
<html lang="lv" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mežlīči | Atpūta pie Daugavas</title>
    
    <link rel="icon" type="image/jpeg" href="https://i.ibb.co/mVH0z4S8/Whats-App-Image-2025-10-25-at-16-40-18.jpg">

    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Lenis -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <!-- Fonts: Lora (Elegant Serif) & Inter (Clean Sans) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: '#FDFCF8',      /* Very Light Warm White */
                        charcoal: {
                            800: '#3D3C3A',
                            900: '#2C2B29',    /* Warm Black/Charcoal */
                        },
                        taupe: { 
                            500: '#9A8C73',    /* Elegant Neutral Accent */
                            600: '#857861'
                        },
                        stone: '#EBE9E4'
                    },
                    fontFamily: {
                        serif: ['"Lora"', 'serif'],
                        sans: ['"Inter"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Styles */
        html.lenis { height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto !important; }
        
        body { 
            background-color: #FDFCF8;
            color: #2C2B29;
            -webkit-font-smoothing: antialiased;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #FDFCF8; 
        }
        ::-webkit-scrollbar-thumb {
            background: #9A8C73; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #857861; 
        }

        /* View Switching (Router) */
        .view-section {
            display: none;
            opacity: 0;
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        .view-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Glossy Header */
        #main-header {
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            background: rgba(253, 252, 248, 0); /* Transparent start */
        }
        #main-header.scrolled {
            background: rgba(253, 252, 248, 0.6); /* Very sheer cream */
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(44, 43, 41, 0.05);
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        /* Burger Icon Animation */
        .burger-line {
            transition: transform 0.4s cubic-bezier(0.68, -0.6, 0.32, 1.6), opacity 0.3s ease;
            transform-origin: center;
        }
        .menu-open .burger-top { transform: translateY(6px) rotate(45deg); }
        .menu-open .burger-mid { opacity: 0; transform: scale(0); }
        .menu-open .burger-bot { transform: translateY(-6px) rotate(-45deg); }

        /* Lightbox */
        #lightbox {
            background: rgba(44, 43, 41, 0.9); /* Deep Charcoal Tint */
            backdrop-filter: blur(16px);
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }
        
        /* Gallery Grid */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 2rem;
        }
        @media (min-width: 640px) { .gallery-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 1024px) { .gallery-grid { grid-template-columns: repeat(3, 1fr); } }

        .gallery-item {
            aspect-ratio: 4/5;
            overflow: hidden;
            border-radius: 2px;
            background-color: #EBE9E4;
            cursor: pointer;
            position: relative;
        }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .gallery-item:hover img { transform: scale(1.05); }

        /* Typography Polish */
        .text-balance { text-wrap: balance; }
        .hero-text-shadow { text-shadow: 0 4px 12px rgba(0,0,0,0.3); }
        
        /* Loading */
        #preloader {
            position: fixed; inset: 0; background: #FDFCF8; z-index: 9999;
            display: flex; align-items: center; justify-content: center;
        }
    </style>
</head>
<body class="font-sans antialiased selection:bg-taupe-500 selection:text-white">

    <!-- Preloader -->
    <div id="preloader">
        <div class="flex flex-col items-center gap-6">
            <span class="font-serif text-4xl italic text-charcoal-900 tracking-wider">Mežlīči</span>
            <div class="w-16 h-[1px] bg-stone relative overflow-hidden">
                <div id="loader-bar" class="absolute inset-0 bg-taupe-500 transform -translate-x-full"></div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header id="main-header" class="fixed top-0 w-full z-[60] px-6 py-6 transition-all duration-300">
        <div class="max-w-[1400px] mx-auto flex justify-between items-center">
            <!-- Logo -->
            <a href="#home" class="nav-link font-serif text-2xl font-medium tracking-tight text-charcoal-900 relative z-[70] hover:opacity-70 transition-opacity">
                Mežlīči.
            </a>
            
            <div class="flex items-center gap-10">
                <a href="tel:+37129294621" class="hidden md:block text-xs font-bold tracking-[0.2em] uppercase text-charcoal-800 hover:text-taupe-600 transition-colors opacity-0 animate-fade-in" style="animation-delay: 1s; animation-fill-mode: forwards;">+371 29294621</a>
                
                <button id="menu-toggle" class="relative z-[70] w-10 h-10 flex flex-col justify-center items-end gap-[5px] group">
                    <span class="burger-line burger-top w-8 h-[2px] bg-charcoal-900 group-hover:bg-taupe-500"></span>
                    <span class="burger-line burger-mid w-6 h-[2px] bg-charcoal-900 group-hover:bg-taupe-500"></span>
                    <span class="burger-line burger-bot w-8 h-[2px] bg-charcoal-900 group-hover:bg-taupe-500"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Fullscreen Menu Overlay -->
    <div id="menu-overlay" class="fixed inset-0 bg-cream z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-500">
        <!-- Close trigger background -->
        <div class="absolute inset-0 z-0" id="overlay-bg"></div>
        
        <nav class="flex flex-col gap-8 text-center relative z-10">
            <a href="#home" class="menu-link font-serif text-5xl md:text-7xl text-charcoal-900 hover:text-taupe-600 hover:italic transition-all duration-300">Sākums</a>
            <a href="#gallery" class="menu-link font-serif text-5xl md:text-7xl text-charcoal-900 hover:text-taupe-600 hover:italic transition-all duration-300">Galerija</a>
            <a href="#policy" class="menu-link font-serif text-5xl md:text-7xl text-charcoal-900 hover:text-taupe-600 hover:italic transition-all duration-300">Privātums</a>
            
            <div class="w-12 h-px bg-charcoal-900/10 mx-auto my-6"></div>
            
            <div class="text-charcoal-800/60 text-sm tracking-widest uppercase">
                <p class="mb-2">Rezervācija</p>
                <a href="tel:+37129294621" class="text-xl text-charcoal-900 font-serif hover:text-taupe-600 transition-colors">+371 29294621</a>
            </div>
        </nav>
    </div>

    <!-- MAIN APP CONTAINER -->
    <div id="app" class="min-h-screen pt-0">

        <!-- VIEW: HOME -->
        <div id="view-home" class="view-section active">
            <!-- Hero -->
            <section class="relative h-screen flex items-center px-6 overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <img src="https://i.ibb.co/mVH0z4S8/Whats-App-Image-2025-10-25-at-16-40-18.jpg" 
                         class="w-full h-full object-cover opacity-100" 
                         id="hero-bg" alt="Mežlīči Exterior">
                    <!-- Subtle Darkening for Readability -->
                    <div class="absolute inset-0 bg-black/20"></div>
                    <!-- Bottom Fade -->
                    <div class="absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-cream to-transparent"></div>
                </div>

                <div class="relative z-10 max-w-7xl mx-auto w-full pt-20 pl-4 md:pl-0">
                    <span class="block text-cream text-xs font-bold tracking-[0.3em] uppercase mb-6 reveal-hero drop-shadow-md">Ķeguma pagasts, Tome</span>
                    <h1 class="font-serif text-6xl md:text-8xl lg:text-9xl leading-[0.95] text-white mb-8 reveal-hero hero-text-shadow">
                        Miers.<br>
                        <span class="italic font-normal text-white/90">Daba. Daugava.</span>
                    </h1>
                    <p class="max-w-md text-white text-lg md:text-xl leading-relaxed reveal-hero font-medium drop-shadow-md">
                        Atgūsti spēkus un relaksējies klusā meža ielokā. Brīvdienu māja, kur laiks apstājas.
                    </p>
                    <div class="mt-12 reveal-hero">
                        <a href="tel:+37129294621" class="inline-block bg-cream text-charcoal-900 px-10 py-5 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-taupe-500 hover:text-white transition-all shadow-lg hover:shadow-2xl transform hover:-translate-y-1">
                            Rezervēt Atpūtu
                        </a>
                    </div>
                </div>
            </section>

            <!-- Amenities -->
            <section class="py-32 px-6 bg-cream">
                <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-24 items-start">
                    <div class="sticky top-32">
                        <h2 class="font-serif text-5xl md:text-6xl text-charcoal-900 mb-8 leading-tight">Viss nepieciešamais <br><span class="italic text-taupe-600">Jūsu mieram.</span></h2>
                        <p class="text-charcoal-800/80 text-lg leading-relaxed mb-10">
                            Mežlīči atrodas Daugavas kreisajā krastā. Mēs piedāvājam pilnīgu privātumu un komfortu, lai jūs varētu aizmirst par pilsētas kņadu.
                        </p>
                        <a href="#gallery" class="nav-link inline-block px-8 py-3 border border-charcoal-900/20 rounded-sm text-xs font-bold uppercase tracking-widest hover:bg-taupe-500 hover:border-taupe-500 hover:text-white transition-all">
                            Skatīt Galeriju
                        </a>
                    </div>

                    <div class="space-y-16">
                        <!-- Amenity Item -->
                        <div class="group cursor-default">
                            <span class="text-taupe-500 font-serif text-xl mb-3 block">01. Relaksācija</span>
                            <h3 class="font-serif text-3xl text-charcoal-900 mb-4 group-hover:text-taupe-600 transition-colors">Pirts & Kubls</h3>
                            <p class="text-charcoal-800/70 leading-relaxed text-lg">
                                Izbaudiet tradicionālo malkas pirti un karstu kublu ar hidromasāžu zem klajas debess, neatkarīgi no gadalaika.
                            </p>
                        </div>

                        <!-- Amenity Item -->
                        <div class="group cursor-default">
                            <span class="text-taupe-500 font-serif text-xl mb-3 block">02. Komforts</span>
                            <h3 class="font-serif text-3xl text-charcoal-900 mb-4 group-hover:text-taupe-600 transition-colors">Nakšņošana</h3>
                            <p class="text-charcoal-800/70 leading-relaxed text-lg">
                                Mājīga guļamzona mansardā līdz 10 personām. Pirmajā stāvā - pilnībā aprīkota virtuve un atpūtas zona.
                            </p>
                        </div>

                        <!-- Amenity Item -->
                        <div class="group cursor-default">
                            <span class="text-taupe-500 font-serif text-xl mb-3 block">03. Aktivitātes</span>
                            <h3 class="font-serif text-3xl text-charcoal-900 mb-4 group-hover:text-taupe-600 transition-colors">Ūdens & Daba</h3>
                            <p class="text-charcoal-800/70 leading-relaxed text-lg">
                                Privāta peldvieta, laivu ielaišanas vieta, makšķerēšana Daugavā. Plaša teritorija pastaigām un piknikam.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Map Section -->
            <section class="py-24 px-6 bg-white">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-12 flex flex-col md:flex-row justify-between items-end gap-6">
                        <div>
                            <span class="text-taupe-600 text-xs font-bold tracking-[0.2em] uppercase mb-4 block">Lokācija</span>
                            <h2 class="font-serif text-5xl text-charcoal-900">Ķeguma pagasts, Tome</h2>
                        </div>
                        <div class="flex gap-4">
                             <a href="https://waze.com/ul/hs0ec2x7x7" target="_blank" class="px-6 py-3 bg-stone/30 rounded-full text-xs font-bold uppercase tracking-widest text-charcoal-900 hover:bg-taupe-500 hover:text-white transition-colors flex items-center gap-2">
                                Waze
                             </a>
                             <a href="https://maps.google.com/?q=56.7223,24.7231" target="_blank" class="px-6 py-3 bg-stone/30 rounded-full text-xs font-bold uppercase tracking-widest text-charcoal-900 hover:bg-taupe-500 hover:text-white transition-colors flex items-center gap-2">
                                Google Maps
                             </a>
                        </div>
                    </div>

                    <div class="h-[550px] w-full relative overflow-hidden rounded-xl shadow-sm border border-stone">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2166.0!2d24.7231!3d56.7223!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTbCsDQzJzIwLjUiTiAyNMKwNDMnMjMuMiJF!5e0!3m2!1sen!2slv!4v1625680000000!5m2!1sen!2slv" 
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy">
                        </iframe>
                    </div>
                </div>
            </section>

            <!-- Contact -->
            <section class="py-32 px-6 bg-cream border-t border-stone">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="font-serif text-5xl md:text-7xl text-charcoal-900 mb-8">Rezervēt Atpūtu</h2>
                    <p class="font-serif text-2xl text-taupe-600 italic mb-12">"Mēs palīdzēsim rezervēt perfektu brīvdienu vietu."</p>

                    <div class="bg-white p-12 shadow-2xl shadow-charcoal-900/5 rounded-2xl max-w-xl mx-auto mb-16 border border-stone">
                        <p class="text-xs font-bold text-charcoal-900/40 uppercase tracking-widest mb-4">Saimnieks Andrejs</p>
                        <a href="tel:+37129294621" class="font-serif text-4xl md:text-5xl text-charcoal-900 hover:text-taupe-600 transition-colors block">+371 29294621</a>
                    </div>
                    
                    <!-- Calendar -->
                    <div class="bg-white p-8 shadow-lg rounded-2xl border border-stone overflow-hidden">
                        <iframe src="https://calendar.google.com/calendar/embed?src=8b6becdf2ad7c40fcee5c32b695484bf1ae9f1080d335739732474da77b9cbfd%40group.calendar.google.com&ctz=Europe%2FRiga&showTitle=0&showNav=1&showDate=1&showPrint=0&showTabs=0&showCalendars=0&showTz=0" 
                        style="border: 0" width="100%" height="450" frameborder="0" scrolling="no"></iframe>
                    </div>
                </div>
            </section>
        </div>

        <!-- VIEW: GALLERY -->
        <div id="view-gallery" class="view-section pt-32 px-6 pb-24">
            <div class="max-w-7xl mx-auto">
                <header class="text-center mb-20">
                    <h1 class="font-serif text-5xl md:text-7xl text-charcoal-900 mb-6">Mirkļi</h1>
                    <a href="#home" class="nav-link text-xs font-bold uppercase tracking-widest border-b border-charcoal-900 pb-1 hover:text-taupe-600 hover:border-taupe-600 transition-colors">Atgriezties</a>
                </header>
                <div class="gallery-grid" id="gallery-container">
                    <!-- Images injected here -->
                </div>
            </div>
        </div>

        <!-- VIEW: PRIVACY POLICY -->
        <div id="view-policy" class="view-section pt-32 px-6 pb-24 min-h-screen">
            <div class="max-w-3xl mx-auto">
                <a href="#home" class="nav-link text-xs font-bold uppercase tracking-widest text-charcoal-900/50 hover:text-charcoal-900 transition-colors mb-12 block">← Atpakaļ</a>
                <h1 class="font-serif text-5xl text-charcoal-900 mb-12">Privātuma Politika</h1>
                
                <div class="space-y-12 text-charcoal-800 leading-relaxed font-light text-lg">
                    <p class="text-2xl font-serif italic text-charcoal-900">Mēs augstu vērtējam jūsu privātumu un datu drošību.</p>
                    
                    <div class="space-y-4">
                        <h3 class="font-bold text-charcoal-900 text-sm uppercase tracking-widest border-b border-stone pb-2">1. Vispārīgie Noteikumi</h3>
                        <p>Brīvdienu māja "Mežlīči" apņemas ievērot Vispārīgo datu aizsardzības regulu (GDPR). Mēs apkopojam tikai to informāciju, kas nepieciešama rezervācijas nodrošināšanai.</p>
                    </div>

                    <div class="space-y-4">
                        <h3 class="font-bold text-charcoal-900 text-sm uppercase tracking-widest border-b border-stone pb-2">2. Sīkdatnes</h3>
                        <p>Mēs izmantojam tikai tehniskās sīkdatnes, kas nepieciešamas mājaslapas korektai darbībai. Analītiskās sīkdatnes (ja tiek izmantotas) ir anonimizētas un kalpo tikai vietnes veiktspējas uzlabošanai.</p>
                    </div>

                    <div class="space-y-4">
                        <h3 class="font-bold text-charcoal-900 text-sm uppercase tracking-widest border-b border-stone pb-2">3. Rezervācijas Dati</h3>
                        <p>Jūsu tālruņa numurs un vārds, kas tiek izmantots saziņai un rezervācijai, tiek glabāts droši un netiek nodots trešajām pusēm mārketinga nolūkos.</p>
                    </div>

                    <div class="pt-8 mt-12 border-t border-charcoal-900/10">
                        <p class="text-sm text-charcoal-900/50">Atjaunots: 2025. gada Janvāris</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Footer (Charcoal - No Green) -->
    <footer class="bg-charcoal-900 text-stone py-24 px-6 text-sm">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12">
            <!-- Brand -->
            <div class="md:col-span-1">
                <span class="font-serif text-3xl block mb-6 text-cream">Mežlīči.</span>
                <p class="text-stone/60 leading-relaxed max-w-xs">
                    Klusuma un miera osta pie Daugavas. Radīts dabas mīļotājiem un tiem, kas meklē atelpu.
                </p>
            </div>
            
            <!-- Spacer -->
            <div class="hidden md:block"></div>

            <!-- Links -->
            <div>
                <h4 class="text-taupe-500 uppercase tracking-widest text-xs font-bold mb-6">Informācija</h4>
                <ul class="space-y-4 text-stone/80">
                    <li><a href="#gallery" class="nav-link hover:text-white transition-colors">Galerija</a></li>
                    <li><a href="#policy" class="nav-link hover:text-white transition-colors">Privātums & Sīkdatnes</a></li>
                    <li><a href="tel:+37129294621" class="hover:text-white transition-colors">Kontakti</a></li>
                </ul>
            </div>

            <!-- Meta -->
            <div>
                <h4 class="text-taupe-500 uppercase tracking-widest text-xs font-bold mb-6">Izstrāde</h4>
                <a href="https://www.kamaltek.com/en/projects/mezlici-holiday-home" target="_blank" class="block group">
                    <span class="text-2xl font-bold text-white group-hover:text-taupe-500 transition-colors">Kamaltek</span>
                    <span class="block text-xs text-stone/40 mt-1 group-hover:text-white transition-colors">Apskatīt projektu →</span>
                </a>
                <p class="text-stone/20 text-xs mt-8">© 2025 Visas tiesības aizsargātas</p>
            </div>
        </div>
    </footer>

    <!-- Lightbox -->
    <div id="lightbox" class="fixed inset-0 z-[100] opacity-0 invisible flex items-center justify-center p-4">
        <!-- Close -->
        <button id="lb-close" class="absolute top-6 right-6 w-12 h-12 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-md transition-all text-white border border-white/10 z-50">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        
        <!-- Navigation -->
        <button id="lb-prev" class="absolute left-6 w-12 h-12 hidden md:flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-md transition-all text-white border border-white/10 z-50">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        <button id="lb-next" class="absolute right-6 w-12 h-12 hidden md:flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-md transition-all text-white border border-white/10 z-50">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7"></path></svg>
        </button>
        
        <img id="lb-img" src="" class="max-h-[90vh] max-w-[95vw] object-contain shadow-2xl rounded-sm" alt="Fullscreen">
        
        <div class="absolute bottom-8 left-0 right-0 text-center">
            <span id="lb-counter" class="text-white/80 text-[10px] font-bold tracking-[0.3em] uppercase bg-black/40 px-4 py-2 rounded-full backdrop-blur-md"></span>
        </div>
    </div>

    <script>
        // --- DATA ---
        const images = [
            'https://i.ibb.co/mVH0z4S8/Whats-App-Image-2025-10-25-at-16-40-18.jpg',
            'https://i.ibb.co/KcmJfL1n/Whats-App-Image-2025-10-25-at-16-40-16.jpg',
            'https://i.ibb.co/NgjfgHkc/Whats-App-Image-2025-10-25-at-16-40-17-1.jpg',
            'https://i.ibb.co/4gZrSHzK/Whats-App-Image-2025-10-25-at-16-40-17.jpg',
            'https://i.ibb.co/Y4gC9R3Q/Whats-App-Image-2025-10-25-at-16-40-18-1.jpg',
            'https://i.ibb.co/5XwtGY3v/Whats-App-Image-2025-10-25-at-16-40-18-2.jpg',
            'https://i.ibb.co/hxtqWnNq/Whats-App-Image-2025-10-25-at-16-40-19-4.jpg',
            'https://i.ibb.co/d4DR596B/Whats-App-Image-2025-10-25-at-16-40-18-4.jpg',
            'https://i.ibb.co/gZMBL05C/Whats-App-Image-2025-10-25-at-16-40-18-5.jpg',
            'https://i.ibb.co/tp1yRWNX/Whats-App-Image-2025-10-25-at-16-40-19-1.jpg',
            'https://i.ibb.co/GQyfN4LS/Whats-App-Image-2025-10-25-at-16-40-19-2.jpg',
            'https://i.ibb.co/fVr4nwTP/Whats-App-Image-2025-10-25-at-16-40-18-3.jpg',
            'https://i.ibb.co/XxTn4dsr/Whats-App-Image-2025-10-25-at-16-40-19-3.jpg',
            'https://i.ibb.co/hxztcMBq/Whats-App-Image-2025-10-25-at-16-40-19.jpg'
        ];

        // --- RENDER GALLERY ---
        const galleryContainer = document.getElementById('gallery-container');
        images.forEach((src, idx) => {
            const div = document.createElement('div');
            div.className = 'gallery-item group relative';
            div.innerHTML = `
                <img src="${src}" class="w-full h-auto block" loading="lazy">
                <div class="absolute inset-0 bg-charcoal-900/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-center justify-center">
                    <span class="bg-white/90 px-5 py-2 rounded-full text-charcoal-900 text-[10px] uppercase tracking-widest font-bold shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">Apskatīt</span>
                </div>
            `;
            div.onclick = () => openLightbox(idx);
            galleryContainer.appendChild(div);
        });

        // --- SPA ROUTING (HISTORY API) ---
        function navigate(path) {
            const routes = {
                '': 'view-home',
                'home': 'view-home',
                'gallery': 'view-gallery',
                'policy': 'view-policy'
            };
            
            const route = path.replace('#', '') || 'home';
            const viewId = routes[route] || 'view-home';

            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.remove('active');
            });
            
            const target = document.getElementById(viewId);
            if(target) {
                target.classList.add('active');
                window.scrollTo(0,0);
            }

            if(document.body.classList.contains('menu-open')) toggleMenu();
        }

        document.querySelectorAll('a').forEach(link => {
            if(link.getAttribute('href').startsWith('#')) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const path = link.getAttribute('href');
                    history.pushState(null, null, path);
                    navigate(path);
                });
            }
        });

        window.addEventListener('popstate', () => navigate(window.location.hash));
        window.addEventListener('load', () => navigate(window.location.hash));

        // --- MENU LOGIC ---
        const menuBtn = document.getElementById('menu-toggle');
        const overlay = document.getElementById('menu-overlay');
        const overlayBg = document.getElementById('overlay-bg');
        
        function toggleMenu() {
            const isOpen = document.body.classList.toggle('menu-open');
            if(isOpen) {
                overlay.classList.remove('pointer-events-none', 'opacity-0');
                lenis.stop();
            } else {
                overlay.classList.add('pointer-events-none', 'opacity-0');
                lenis.start();
            }
        }
        menuBtn.onclick = toggleMenu;
        
        // Click outside (on bg) to close
        overlayBg.onclick = toggleMenu;

        // Header Scroll
        const header = document.getElementById('main-header');
        window.addEventListener('scroll', () => {
            if(window.scrollY > 50) header.classList.add('scrolled');
            else header.classList.remove('scrolled');
        });

        // --- LIGHTBOX ---
        let idx = 0;
        const lb = document.getElementById('lightbox');
        const lbImg = document.getElementById('lb-img');
        const lbCount = document.getElementById('lb-counter');

        function openLightbox(index) {
            idx = index;
            updateLb();
            lb.classList.remove('invisible', 'opacity-0');
            document.body.style.overflow = 'hidden';
            lenis.stop();
        }
        function closeLb() {
            lb.classList.add('invisible', 'opacity-0');
            document.body.style.overflow = '';
            lenis.start();
        }
        function updateLb() {
            lbImg.src = images[idx];
            lbCount.innerText = `${idx + 1} / ${images.length}`;
        }
        function nextImg(e) { e.stopPropagation(); idx = (idx + 1) % images.length; updateLb(); }
        function prevImg(e) { e.stopPropagation(); idx = (idx - 1 + images.length) % images.length; updateLb(); }

        document.getElementById('lb-close').onclick = closeLb;
        document.getElementById('lb-next').onclick = nextImg;
        document.getElementById('lb-prev').onclick = prevImg;
        lb.onclick = (e) => { if(e.target === lb) closeLb(); };
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") closeLb();
            if (e.key === "ArrowRight") nextImg(e);
            if (e.key === "ArrowLeft") prevImg(e);
        });

        // --- ANIMATIONS ---
        gsap.registerPlugin(ScrollTrigger);
        
        window.onload = () => {
            gsap.to("#loader-bar", { x: "0%", duration: 1 });
            gsap.to("#preloader", { 
                y: "-100%", duration: 1, delay: 0.5, ease: "power4.inOut",
                onComplete: () => {
                    initReveal();
                    document.getElementById('preloader').style.display = 'none';
                }
            });
        };

        function initReveal() {
            gsap.from(".reveal-hero", {
                y: 40, opacity: 0, duration: 1.4, stagger: 0.1, ease: "power3.out"
            });
        }

        // --- LENIS ---
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            smooth: true
        });
        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

    </script>
</body>
</html>
